---
title: Custom Servers
description: Use AzuraJS with Bun, Deno, Cloudflare Workers, and more
icon: Server
---

# Custom Servers ğŸŒ

AzuraJS can be used with **any server** that supports the Web Fetch API, just like Hono! This gives you flexibility to deploy on Bun, Deno, Cloudflare Workers, Vercel Edge Functions, and more.

## Using with Bun ğŸ

Bun provides a fast native HTTP server. Use AzuraJS with `Bun.serve`:

<Tabs items={['TypeScript', 'JavaScript']}>
<Tab value="TypeScript">

```typescript title="bun-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ message: "Hello from AzuraJS on Bun!" });
});

app.get("/user/:id", (req, res) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", (req, res) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use with Bun's native server
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`ğŸš€ Server running on http://localhost:${server.port}`);
```

</Tab>
<Tab value="JavaScript">

```javascript title="bun-server.js"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ message: "Hello from AzuraJS on Bun!" });
});

app.get("/user/:id", (req, res) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", (req, res) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use with Bun's native server
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`ğŸš€ Server running on http://localhost:${server.port}`);
```

</Tab>
</Tabs>

Run it:

```bash
bun run bun-server.ts  # or .js
```

### Why Use Bun?

- âš¡ **3x faster** than Node.js
- ğŸš€ **Native TypeScript** support
- ğŸ“¦ **Built-in bundler** and test runner
- ğŸ”¥ **Hot reload** out of the box

## Using with Deno ğŸ¦•

Deno is a secure runtime for JavaScript and TypeScript. Use AzuraJS with `Deno.serve`:

<Tabs items={['TypeScript', 'JavaScript']}>
<Tab value="TypeScript">

```typescript title="deno-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ message: "Hello from AzuraJS on Deno!" });
});

app.get("/api/:name", (req, res) => {
  res.json({ 
    greeting: `Hello ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use with Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ğŸ¦• Server running on http://localhost:3000");
```

</Tab>
<Tab value="JavaScript">

```javascript title="deno-server.js"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ message: "Hello from AzuraJS on Deno!" });
});

app.get("/api/:name", (req, res) => {
  res.json({ 
    greeting: `Hello ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use with Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ğŸ¦• Server running on http://localhost:3000");
```

</Tab>
</Tabs>

Run it:

```bash
deno run --allow-net --allow-read deno-server.ts  # or .js
```

### Why Use Deno?

- ğŸ”’ **Secure by default** - Explicit permissions required
- ğŸ“¦ **No package.json** - Direct URL imports
- ğŸŒ **Web standards** - Compatible APIs
- âš¡ **Fast startup** - Optimized runtime

## Using with Cloudflare Workers â˜ï¸

Deploy globally on Cloudflare's edge network:

<Tabs items={['TypeScript', 'JavaScript']}>
<Tab value="TypeScript">

```typescript title="worker.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ 
    message: "Hello from the Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", (req, res) => {
  res.json({ 
    id: req.params.id,
    deployed: "globally" 
  });
});

// Export for Cloudflare Workers
export default {
  fetch: app.fetch.bind(app),
};
```

</Tab>
<Tab value="JavaScript">

```javascript title="worker.js"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", (req, res) => {
  res.json({ 
    message: "Hello from the Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", (req, res) => {
  res.json({ 
    id: req.params.id,
    deployed: "globally" 
  });
});

// Export for Cloudflare Workers
export default {
  fetch: app.fetch.bind(app),
};
```

</Tab>
</Tabs>

### Why Use Cloudflare Workers?

- ğŸŒ **Global deployment** - 200+ edge locations
- âš¡ **0ms cold starts** - Instant responses
- ğŸ’° **Free tier** - 100k requests/day
- ğŸ” **Built-in security** - DDoS protection

## Using with Node.js (Default) ğŸŸ¢

AzuraJS includes a built-in Node.js HTTP server:

```typescript title="node-server.ts"
import { AzuraClient, applyDecorators } from "azurajs";
import { UserController } from "./controllers/UserController";

const app = new AzuraClient();

// Simple route
app.get("/", (req, res) => {
  res.json({ message: "Hello from Node.js!" });
});

// Or use controllers
applyDecorators(app, [UserController]);

// Built-in Node.js HTTP server
await app.listen(3000);
```

Run it:

```bash
node --import tsx node-server.ts
# or with Bun
bun run node-server.ts
```

### Why Use Node.js?

- ğŸ“¦ **Largest ecosystem** - npm packages
- ğŸ”§ **Mature tooling** - Well-established
- ğŸ¢ **Production ready** - Battle-tested
- ğŸ¤ **Wide support** - Most hosting providers

## Vercel Edge Functions ğŸ”º

Deploy to Vercel's edge network:

```typescript title="api/hello.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/api/hello", (req, res) => {
  res.json({ message: "Hello from Vercel Edge!" });
});

export default async function handler(request: Request) {
  return app.fetch(request);
}

export const config = {
  runtime: "edge",
};
```

## Performance Comparison ğŸ“Š

| Runtime | Cold Start | Throughput | Deploy |
|---------|-----------|-----------|---------|
| Bun | ~5ms | â­â­â­â­â­ | Local/VPS |
| Node.js | ~50ms | â­â­â­â­ | Anywhere |
| Deno | ~10ms | â­â­â­â­ | Deno Deploy |
| Cloudflare | 0ms | â­â­â­â­â­ | Global Edge |
| Vercel Edge | 0ms | â­â­â­â­ | Vercel |

## Complete Example ğŸ¯

Here's a full example that works everywhere:

```typescript title="universal-app.ts"
import { AzuraClient } from "azurajs";
import { Controller, Get, Post, Body, Param, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs";

@Controller("/api")
class ApiController {
  @Get("/")
  root(@Res() res: ResponseServer) {
    res.json({ 
      message: "AzuraJS Universal API",
      runtime: typeof Bun !== "undefined" ? "Bun" : 
               typeof Deno !== "undefined" ? "Deno" : "Node.js"
    });
  }

  @Get("/users/:id")
  getUser(@Param("id") id: string, @Res() res: ResponseServer) {
    res.json({ 
      id: Number(id), 
      name: `User ${id}` 
    });
  }

  @Post("/users")
  createUser(@Body() body: any, @Res() res: ResponseServer) {
    res.status(201).json({ 
      id: Date.now(), 
      ...body 
    });
  }
}

const app = new AzuraClient();
applyDecorators(app, [ApiController]);

// Choose your runtime:

// Bun
if (typeof Bun !== "undefined") {
  Bun.serve({ port: 3000, fetch: app.fetch.bind(app) });
}

// Deno
else if (typeof Deno !== "undefined") {
  Deno.serve({ port: 3000 }, app.fetch.bind(app));
}

// Node.js (default)
else {
  await app.listen(3000);
}
```

## Configuration Tips âš™ï¸

When using custom servers, you may want to disable some built-in features:

```typescript title="azura.config.ts"
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  server: {
    port: 3000,
    cluster: false, // Disable for Bun/Deno/Edge
  },
  logging: {
    enabled: true,
    showDetails: false, // Less verbose for edge
  },
};

export default config;
```

## Best Practices âœ¨

<Callout type="tip">
  **Use Bun for development** - Fastest hot reload and startup time
</Callout>

<Callout type="tip">
  **Use Edge for production** - Global deployment with 0ms cold starts
</Callout>

<Callout type="info">
  **Test on Node.js** - Ensure compatibility before deploying
</Callout>

<Callout type="warn">
  **Disable cluster mode** - Not needed when using custom servers
</Callout>

## Next Steps ğŸ“–

<Cards>
  <Card title="Configuration" href="/docs/en/configuration" description="Configure AzuraJS for any runtime" />
  <Card title="Deployment" href="/docs/en/deployment" description="Deploy to production" />
  <Card title="Performance" href="/docs/en/performance" description="Optimize for your runtime" />
</Cards>
